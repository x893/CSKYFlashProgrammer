<UserControl x:Class="CskyFlashProgramer.UI.MainMenu"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:local="clr-namespace:CskyFlashProgramer.UI"
             x:Name="userControl" VerticalAlignment="Top">
	<FrameworkElement.Resources>
		<Rectangle x:Key="AppThemeMenuIcon" x:Shared="false" Width="16" Height="16" StrokeThickness="1"
               Fill="{Binding ColorBrush, Mode=OneWay}" Stroke="{Binding BorderColorBrush, Mode=OneWay}"/>
		<Rectangle x:Key="AccentMenuIcon" x:Shared="false" Width="16" Height="16"
               Fill="{Binding ColorBrush, Mode=OneWay}"/>
		<Style x:Key="AppThemeMenuItemStyle" BasedOn="{StaticResource MetroMenuItem}"
           TargetType="{x:Type MenuItem}">
			<Setter Property="MenuItem.Command" Value="{Binding ChangeAccentCommand}"/>
			<Setter Property="HeaderedItemsControl.Header" Value="{Binding Name, Mode=OneWay}"/>
			<Setter Property="MenuItem.Icon" Value="{StaticResource AppThemeMenuIcon}"/>
		</Style>
		<Style x:Key="AccentColorMenuItemStyle" BasedOn="{StaticResource MetroMenuItem}" TargetType="{x:Type MenuItem}">
			<Setter Property="MenuItem.Command" Value="{Binding ChangeAccentCommand}"/>
			<Setter Property="HeaderedItemsControl.Header" Value="{Binding Name, Mode=OneWay}"/>
			<Setter Property="MenuItem.Icon" Value="{StaticResource AccentMenuIcon}"/>
		</Style>
		<local:OpenSettingsCmd x:Key="OpenSettingsCmd"/>
	</FrameworkElement.Resources>
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition/>
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="Auto"/>
			<ColumnDefinition/>
		</Grid.ColumnDefinitions>
		<Menu>
			<MenuItem Header="File" Margin="4">
				<MenuItem x:Name="m_new_menu_item" Header="New..."/>
				<MenuItem Header="Theme" ItemContainerStyle="{StaticResource AccentColorMenuItemStyle}"
                  ItemsSource="{Binding AccentColors, Mode=OneWay, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type local:MainMenu}}}"/>
			</MenuItem>
			<MenuItem x:Name="m_advance" Header="Advance" Margin="4"/>
		</Menu>
		<StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left" Margin="50,0,0,0"
                Visibility="Hidden">
			<Button x:Name="m_startProgramBn" Margin="5,0" HorizontalAlignment="Center" VerticalAlignment="Center"
              Padding="0" MinWidth="25">
				<Viewbox>
					<Rectangle Width="16" Height="16" Margin="0">
						<Shape.Fill>
							<DrawingBrush>
								<DrawingBrush.Drawing>
									<DrawingGroup>
										<GeometryDrawing Brush="#00FFFFFF" Geometry="F1 M 16,16 L 0,16 0,0 16,0 "/>
										<GeometryDrawing Brush="#FFF6F6F6" Geometry="F1 M 2.9997,-0.000199999999999534 L 2.9997,15.9998 13.6677,7.9998 "/>
										<GeometryDrawing Brush="#FF388934" Geometry="F1 M 4,2 L 4,14 12,8 "/>
									</DrawingGroup>
								</DrawingBrush.Drawing>
							</DrawingBrush>
						</Shape.Fill>
					</Rectangle>
				</Viewbox>
			</Button>
			<Button Margin="5,0" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="0" MinWidth="25"
              Command="{Binding Mode=OneWay, Source={StaticResource OpenSettingsCmd}}">
				<Viewbox>
					<Rectangle Width="16" Height="16">
						<Shape.Fill>
							<DrawingBrush>
								<DrawingBrush.Drawing>
									<DrawingGroup>
										<GeometryDrawing Brush="#00FFFFFF" Geometry="F1 M 16,16 L 0,16 0,0 16,0 "/>
										<GeometryDrawing Brush="#FFF6F6F6"
                                     Geometry="F1 M 16,8 C 16,8.312 15.979,8.618 15.943,8.92 L 15.873,9.54 13.638,10.335 14.654,12.474 14.269,12.962 C 13.888,13.444 13.448,13.884 12.964,14.268 L 12.476,14.655 10.336,13.637 9.542,15.87 8.924,15.942 C 8.621,15.979 8.313,16 8,16 7.689,16 7.383,15.979 7.081,15.943 L 6.461,15.873 5.666,13.638 3.525,14.655 3.037,14.268 C 2.554,13.885 2.115,13.446 1.732,12.963 L 1.345,12.475 2.362,10.335 0.127000000000001,9.54 0.0559999999999992,8.92 C 0.0220000000000002,8.618 0,8.312 0,8 0,7.688 0.0220000000000002,7.382 0.0559999999999992,7.08 L 0.127000000000001,6.46 2.362,5.665 1.345,3.524 1.732,3.036 C 2.117,2.552 2.556,2.113 3.038,1.731 L 3.525,1.345 5.667,2.363 6.461,0.127 7.081,0.0560000000000001 C 7.383,0.0220000000000002 7.689,0 8,0 8.313,0 8.619,0.0220000000000002 8.923,0.0570000000000004 L 9.541,0.128 10.335,2.363 12.476,1.346 12.964,1.732 C 13.446,2.114 13.886,2.554 14.269,3.038 L 14.654,3.525 13.638,5.665 15.873,6.46 15.943,7.08 C 15.979,7.382 16,7.688 16,8 "/>
										<GeometryDrawing Brush="#FF424242"
                                     Geometry="F1 M 8,6.5 C 7.171,6.5 6.5,7.172 6.5,8 6.5,8.828 7.171,9.5 8,9.5 8.829,9.5 9.5,8.828 9.5,8 9.5,7.172 8.829,6.5 8,6.5 M 8,5 C 6.343,5 5,6.343 5,8 5,9.657 6.343,11 8,11 9.657,11 11,9.657 11,8 11,6.343 9.657,5 8,5 M 12.714,9.603 C 12.644,9.81 12.564,10.01 12.468,10.203 L 13.484,12.342 C 13.149,12.766 12.767,13.148 12.343,13.484 L 10.203,12.467 C 10.01,12.564 9.81,12.643 9.603,12.714 L 8.808,14.949 C 8.542,14.98 8.273,15 8,15 7.728,15 7.459,14.98 7.194,14.95 L 6.399,12.715 C 6.192,12.644 5.991,12.564 5.798,12.468 L 3.658,13.484 C 3.234,13.148 2.852,12.766 2.516,12.342 L 3.532,10.203 C 3.437,10.01 3.356,9.81 3.286,9.603 L 1.05,8.807 C 1.02,8.542 1,8.273 1,8 1,7.727 1.02,7.458 1.05,7.193 L 3.286,6.397 C 3.356,6.19 3.437,5.991 3.532,5.797 L 2.516,3.658 C 2.852,3.234 3.234,2.851 3.658,2.516 L 5.798,3.532 C 5.991,3.436 6.191,3.356 6.399,3.286 L 7.194,1.05 C 7.459,1.02 7.728,1 8,1 8.273,1 8.542,1.02 8.808,1.05 L 9.603,3.287 C 9.81,3.357 10.01,3.437 10.203,3.533 L 12.343,2.516 C 12.767,2.852 13.149,3.235 13.484,3.658 L 12.468,5.797 C 12.564,5.991 12.644,6.19 12.714,6.397 L 14.95,7.193 C 14.98,7.458 15,7.727 15,8 15,8.273 14.98,8.542 14.95,8.807 "/>
										<GeometryDrawing Brush="#FFEFEFF0"
                                     Geometry="F1 M 8,9.5 C 7.172,9.5 6.5,8.828 6.5,8 6.5,7.172 7.172,6.5 8,6.5 8.828,6.5 9.5,7.172 9.5,8 9.5,8.828 8.828,9.5 8,9.5 M 8,5 C 6.343,5 5,6.343 5,8 5,9.656 6.343,11 8,11 9.657,11 11,9.656 11,8 11,6.343 9.657,5 8,5 "/>
									</DrawingGroup>
								</DrawingBrush.Drawing>
							</DrawingBrush>
						</Shape.Fill>
					</Rectangle>
				</Viewbox>
			</Button>
		</StackPanel>
	</Grid>
</UserControl>