<UserControl x:Class="CskyFlashProgramer.UI.TargetConfigView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
             xmlns:local="clr-namespace:CskyFlashProgramer.UI"
             xmlns:CskyFlashProgramer="clr-namespace:CskyFlashProgramer"
             xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
             Width="auto" IsManipulationEnabled="true" MinHeight="282" BorderThickness="1" MinWidth="547">
	<FrameworkElement.Resources>
		<local:EnableConverter x:Key="EnableConverter"/>
		<local:EnableConverter x:Key="ResetEnableConverter"/>
	</FrameworkElement.Resources>
	<StackPanel>
		<Grid VerticalAlignment="Top" Margin="4">
			<Grid.RowDefinitions>
				<RowDefinition/>
				<RowDefinition Height="Auto"/>
				<RowDefinition/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="Auto"/>
				<ColumnDefinition/>
			</Grid.ColumnDefinitions>
			<Label Content="Program Algorithm File :" Margin="0" HorizontalAlignment="Center"
             VerticalAlignment="Center"/>
			<local:FilePicker x:Name="m_algorithm" Grid.Column="1" Grid.ColumnSpan="2" Filter="Elf files(*.elf)|*.elf|All files (*.*)|*.*"/>
			<Label Content="Program Pre-Script File :" Margin="0" HorizontalAlignment="Center"
             VerticalAlignment="Center" Grid.Row="1"/>
			<local:FilePicker x:Name="m_preScript" Grid.Column="1" Grid.ColumnSpan="2" Filter="init files(*.init)|*.init|All files (*.*)|*.*" Grid.Row="1"/>
		</Grid>
		<Grid Margin="4">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="Auto"/>
				<ColumnDefinition MinWidth="100" Width="auto"/>
				<ColumnDefinition Width="auto"/>
				<ColumnDefinition MinWidth="100"/>
				<ColumnDefinition Width="auto"/>
				<ColumnDefinition MinWidth="100"/>
			</Grid.ColumnDefinitions>
			<Grid.RowDefinitions>
				<RowDefinition/>
			</Grid.RowDefinitions>
			<Label Content="Erase Type" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="4"/>
			<ComboBox x:Name="m_eraseType" Grid.Column="1" SelectedIndex="0" Margin="4" FontSize="14">
				<ComboBoxItem Content="Chip Erase"/>
				<ComboBoxItem Content="Erase Sectors"/>
				<ComboBoxItem Content="Erase Range"/>
				<ComboBoxItem Content="Not Erase"/>
			</ComboBox>
			<Label Content="Start: 0x" Grid.Column="2" Margin="4"
             IsEnabled="{Binding Text, Converter={StaticResource EnableConverter}, ElementName=m_eraseType, Mode=OneWay}"/>
			<TextBox x:Name="m_start" Grid.Column="3" Margin="4" FontSize="14"
               IsEnabled="{Binding Text, Converter={StaticResource EnableConverter}, ElementName=m_eraseType, Mode=OneWay}"/>
			<Label Content="Length: 0x" Grid.Column="4" Margin="4"
             IsEnabled="{Binding Text, Converter={StaticResource EnableConverter}, ElementName=m_eraseType, Mode=OneWay}"/>
			<TextBox x:Name="m_length" Grid.Column="5" Margin="4" FontSize="14"
               IsEnabled="{Binding Text, Converter={StaticResource EnableConverter}, ElementName=m_eraseType, Mode=OneWay}"/>
		</Grid>
		<GroupBox Header="Options" Margin="4" Style="{x:Null}">
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition/>
				</Grid.RowDefinitions>
				<Grid.ColumnDefinitions>
					<ColumnDefinition/>
					<ColumnDefinition/>
				</Grid.ColumnDefinitions>
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition/>
						<RowDefinition/>
						<RowDefinition/>
						<RowDefinition/>
					</Grid.RowDefinitions>
					<Grid.ColumnDefinitions>
						<ColumnDefinition/>
						<ColumnDefinition/>
					</Grid.ColumnDefinitions>
					<Label Content="Connect:" Margin="4"/>
					<Label Content="Command Timeout(s):" Margin="4" Grid.Row="1"/>
					<ComboBox x:Name="m_connect" Margin="4" Grid.Column="1" SelectedIndex="0" FontSize="14">
						<ComboBoxItem Content="Normal"/>
						<ComboBoxItem Content="Hard Reset"/>
					</ComboBox>
					<mah:NumericUpDown x:Name="m_timeOut" Margin="4" Grid.Row="1" Grid.Column="1"
                             mah:TextBoxHelper.WatermarkAlignment="Right"/>
					<Label Content="CPU Select (0,1,2...):" Margin="4" Grid.Column="0" Grid.Row="2"/>
					<TextBox x:Name="m_cpuSelect" Grid.Column="1" Margin="4" FontSize="14" Grid.Row="2"/>
					<CheckBox x:Name="m_logEnable" Content="Enable Log" Margin="10,16,4,4" FontSize="14" Grid.Row="3"/>
				</Grid>
				<StackPanel Grid.Column="1" Margin="10,0">
					<StackPanel Orientation="Horizontal">
						<CheckBox Checked="OnResetAndRun" x:Name="m_hardRest" Content="Reset and Run" Margin="4" IsChecked="True"
                      FontSize="14"/>
						<StackPanel Orientation="Horizontal" IsEnabled="{Binding IsChecked, ElementName=m_hardRest}">
							<ComboBox DropDownClosed="OnResetTypeChanged" x:Name="m_resetType" Width="80" SelectedIndex="0" Margin="4"
                        FontSize="14" IsEnabled="{Binding IsChecked, ElementName=m_hardRest}">
								<ComboBoxItem Content="Hard" Width="80"/>
								<ComboBoxItem Content="Soft" Width="80"/>
							</ComboBox>
							<Label x:Name="m_resetValueLabel" Content="0x" Margin="4"/>
							<TextBox x:Name="m_resetValue" Margin="4" Width="110" FontSize="14"/>
						</StackPanel>
					</StackPanel>
					<CheckBox x:Name="m_runMode" Content="Run Mode" Margin="4" FontSize="14"/>
				</StackPanel>
			</Grid>
		</GroupBox>
	</StackPanel>
</UserControl>